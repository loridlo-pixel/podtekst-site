<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PODТЕКСТ — Official</title>

<style>
:root{
  --bg:#0f0f0f;
  --bg2:#161616;
  --text:#eaeaea;
  --muted:#9a9a9a;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:Inter,system-ui,Arial;
  background:var(--bg);
  color:var(--text)
}

/* ================= HEADER ================= */
header{
  position:sticky;
  top:0;
  height:80px;
  z-index:20;
  background:rgba(15,15,15,.9);
  backdrop-filter:blur(12px);
}

.nav{
  max-width:1200px;
  margin:auto;
  height:80px;
  display:grid;
  grid-template-columns:1fr auto 1fr;
  align-items:center;
  padding:0 16px;
}

.nav img{
  height:80px;
  transform:scale(2.5);
}

.nav-menu{
  justify-self:end;
  display:flex;
  gap:20px
}
.nav-menu a{
  color:#eaeaea;
  text-decoration:none;
  opacity:.8
}
.nav-menu a:hover{opacity:1}

.burger{
  display:none;
  flex-direction:column;
  gap:4px;
  width:24px;
  cursor:pointer;
  z-index:100;
}
.burger span{
  height:3px;
  background:#fff;
  border-radius:2px;
}

@media(max-width:768px){
  .nav-menu{
    position:fixed;
    top:80px;
    right:-100%;
    width:220px;
    height:100vh;
    background:#0f0f0f;
    flex-direction:column;
    padding:20px;
    transition:.3s;
  }
  .nav-menu.active{right:0}
  .burger{display:flex}
}

/* ================= HERO ================= */
.hero{ height:100vh; background:url("hero.jpg") center/cover no-repeat; display:flex; align-items:flex-end; padding:0px; margin-top:0px }

/* ================= SECTIONS ================= */
section{
  max-width:1200px;
  margin:64px auto;
  padding:0 16px
}

/* ================= ABOUT ================= */
.about-text{
  color:#ddd;
  line-height:1.6;
  font-size:15px;
}
.about-text p{margin-bottom:16px}

/* ================= NEW TRACK ================= */
.new-track-card{
  display:flex;
  gap:20px;
  background:#161616;
  border-radius:16px;
  padding:20px;
  align-items:center;
}
.new-track-card img{
  width:140px;
  height:140px;
  border-radius:12px;
  object-fit:cover;
}
.new-track-title{
  font-size:20px;
  margin-bottom:10px;
}
.new-track audio{width:100%}
@media(max-width:768px){
  .new-track-card{flex-direction:column;text-align:center}
}

/* ================= ALBUMS ================= */
.albums{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(140px,1fr));
  gap:20px;
}
.album-card{
  text-align:center;
  opacity:.6;
  cursor:pointer;
}
.album-card.active{opacity:1}
.album-card img{
  width:100%;
  aspect-ratio:1/1;
  border-radius:12px;
  object-fit:cover;
}

/* ================= TRACKS ================= */
.tracks{
  background:var(--bg2);
  border-radius:16px;
  overflow:hidden;
  margin-top:24px;
}

.track{
  padding:16px;
  border-bottom:1px solid #222;
}
.track:last-child{border-bottom:none}

.track-header{
  display:grid;
  grid-template-columns:48px 1fr auto auto;
  gap:12px;
  align-items:center;
}

.track-cover{
  width:48px;
  height:48px;
  border-radius:6px;
  object-fit:cover;
}

.track-play{cursor:pointer}
.track-download{
  cursor:pointer;
  opacity:.6;
}
.track-download:hover{opacity:1}

.progress{
  height:4px;
  background:#2a2a2a;
  border-radius:4px;
  margin-top:8px;
  overflow:hidden;
  display:none;
}
.track.active .progress{display:block}
.progress-bar{
  height:100%;
  width:0%;
  background:#fff;
}

/* ================= CONTROLS ================= */
.controls{
  display:flex;
  gap:20px;
  margin-top:16px;
}
button{
  background:#222;
  border:none;
  color:#fff;
  padding:10px 16px;
  border-radius:8px;
  cursor:pointer;
}
button:hover{background:#333}

footer{
  text-align:center;
  padding:40px;
  color:var(--muted)
}
</style>
</head>

<body>

<header>
  <div class="nav">
    <div></div>
    <img src="logo.png">
    <nav class="nav-menu">
      <a href="#about">О группе</a>
      <a href="#tracks">Треки</a>
    </nav>
    <div class="burger"><span></span><span></span><span></span></div>
  </div>
</header>

<div class="hero"></div>

<section id="new">
  <h2>Новинка</h2>
  <div id="newTrack"></div>
</section>

<section id="about">
  <h2>О группе</h2>
  <div class="about-text">
    <p>PODТЕКСТ — музыкальный проект с широким жанровым диапазоном и акцентом на смысл.</p>

    <p>Проект работает на стыке лирической поп-музыки, рока, шансона, рэпа и других направлений, объединяя разные стили единым авторским подходом. В основе каждого трека — текст с глубиной, вторым планом и подтекстом, который раскрывается при внимательном прослушивании.</p>

    <p>Автор слов и музыки — разносторонний артист, свободно работающий с формой, настроением и жанром. Лирика варьируется от личных и эмоциональных историй до социальных и философских тем. Музыка всегда подчинена смыслу, а не шаблону.</p>

    <p>PODТЕКСТ ориентирован на слушателя, которому важны не только мелодия и подача, но и содержание. Проект органично чувствует себя как в камерных композициях, так и в энергичных треках, сохраняя узнаваемый стиль.</p>

    <p>PODТЕКСТ — это музыка, в которой между строк всегда есть больше, чем кажется на первый взгляд.</p>
  </div>
</section>

<section id="tracks"> <h2>Треки и альбомы</h2> <div class="albums"> <div class="album-card active" data-album="all"> <img src="cover/album-all.jpg"> <div class="album-title">Прослушать все треки</div> </div> <div class="album-card" data-album="album1"> <img src="cover/album-main.jpg"> <div class="album-title">Две сестры</div> </div> <div class="album-card" data-album="album2"> <img src="cover/album-main2.jpg"> <div class="album-title">Город северных вьюг</div> </div> </div> <div class="tracks" id="tracksList"></div> </section>

<footer>© PODТЕКСТ — 2026</footer>

<script>
let tracks=[], currentAudio=null, currentIndex=0, shuffled=false

fetch('tracks.json').then(r=>r.json()).then(data=>{
  tracks=data
  renderNew()
  renderTracks('all')
})

function renderNew(){
  const t=tracks[0]
  document.getElementById('newTrack').innerHTML=`
    <div class="new-track-card">
      <img src="${t.cover}">
      <div>
        <div class="new-track-title">${t.title}</div>
        <audio controls src="${t.file}"></audio>
      </div>
    </div>`
}

function renderTracks(album){
  const list=document.getElementById('tracksList')
  list.innerHTML=''
  tracks.filter(t=>album==='all'||t.album===album).forEach((t,i)=>{
    const el=document.createElement('div')
    el.className='track'
    el.innerHTML=`
      <div class="track-header">
        <img class="track-cover" src="${t.cover}">
        <div>${t.title}</div>
        <div class="track-play">▶</div>
        <a class="track-download" href="${t.file}" download>⬇</a>
      </div>
      <div class="progress"><div class="progress-bar"></div></div>
    `
    const play=el.querySelector('.track-play')
    const bar=el.querySelector('.progress-bar')
    const audio=new Audio(t.file)

    play.onclick=()=>{
      if(currentAudio && currentAudio!==audio){
        currentAudio.pause()
        document.querySelectorAll('.track').forEach(t=>t.classList.remove('active'))
      }
      currentAudio=audio
      currentIndex=i
      el.classList.add('active')
      audio.paused?audio.play():audio.pause()
      play.textContent=audio.paused?'▶':'❚❚'
    }

    audio.ontimeupdate=()=>bar.style.width=(audio.currentTime/audio.duration*100)+'%'
    audio.onended=()=>playNext()

    list.appendChild(el)
  })
}

function playNext(){
  currentIndex=shuffled
    ? Math.floor(Math.random()*tracks.length)
    : (currentIndex+1)%tracks.length

  document.querySelectorAll('.track')[currentIndex]
    .querySelector('.track-play').click()
}

document.getElementById('next').onclick=playNext
document.getElementById('shuffle').onclick=()=>shuffled=!shuffled

document.querySelector('.burger').onclick=()=>{
  document.querySelector('.nav-menu').classList.toggle('active')
}
</script>

</body>
</html>

<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PODТЕКСТ — Official</title>

<script src="https://unpkg.com/wavesurfer.js@7"></script>

<style>
:root{
  --bg:#0f0f0f;
  --bg2:#161616;
  --text:#eaeaea;
  --muted:#9a9a9a;
  --accent:#ffffff;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:Inter,system-ui,Arial;
  background:var(--bg);
  color:var(--text)
}

/* HEADER */
header{
  position:sticky;
  top:0;
  height:80px;
  z-index:20;
  background:rgba(15,15,15,.9);
  backdrop-filter:blur(12px)
}
.nav{
  max-width:1200px;
  margin:auto;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:10px 16px
}
.nav img{
  height: 40px;          /* НУЖНЫЙ размер */
  width: auto;
  object-fit: contain
}
/* HERO */
.hero{
  height:90vh;
  background:url("hero.jpg") center/cover no-repeat;
  display:flex;
  align-items:flex-end;
  padding:40px
  margin:60px 0px 0px;
}

/* CONTENT */
section{
  max-width:1200px;
  margin:64px auto;
  padding:0 16px
}

/* ALBUM FILTER */
.albums{
  display:flex;
  gap:12px;
  margin-bottom:20px
}
.album-btn{
  padding:8px 14px;
  border-radius:20px;
  background:#1a1a1a;
  cursor:pointer;
  font-size:13px
}
.album-btn.active{
  background:#fff;
  color:#000
}

/* TRACK LIST */
.tracks{
  background:var(--bg2);
  border-radius:16px;
  overflow:hidden
}
.track-header{
  display:grid;
  grid-template-columns:48px 1fr 24px;
  gap:12px;
  align-items:center;
}

.track-cover{
  width:48px;
  height:48px;
  border-radius:6px;
  object-fit:cover;
  background:#222;
}

.track-title{
  font-size:14px;
  line-height:1.3;
}

.track-play{
  font-size:18px;
  opacity:.8;
}

.track.active .track-play{
  opacity:1;
}

.track{
  padding:16px;
  border-bottom:1px solid #222
}
.track:last-child{border-bottom:none}

.track-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  cursor:pointer
}
.track-title{
  font-size:14px
}
.track-play{
  font-size:18px
}

.wave{
  height:36px;
  margin-top:8px;
  display:none
}
.track.active .wave{
  display:block
}

footer{
  padding:40px 16px;
  text-align:center;
  color:var(--muted)
}
  .about{
  max-width:900px;
  line-height:1.6;
  position:relative;
}

.about-text{
  max-height:120px;
  overflow:hidden;
  color:#ddd;
  transition:max-height .4s ease;
}

.about-text::after{
  content:"";
  position:absolute;
  left:0;
  right:0;
  bottom:0;
  height:48px;
  background:linear-gradient(
    to bottom,
    rgba(15,15,15,0),
    rgba(15,15,15,1)
  );
}

.about.expanded .about-text{
  max-height:1000px;
}

.about.expanded .about-text::after{
  display:none;
}

.about-toggle{
  margin-top:12px;
  background:none;
  border:none;
  color:#fff;
  cursor:pointer;
  font-size:14px;
  opacity:.8;
}

.about-toggle:hover{
  opacity:1;
}
.albums{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(140px,1fr));
  gap:20px;
  margin-bottom:32px;
}

.album-card{
  cursor:pointer;
  text-align:center;
  opacity:.7;
  transition:.2s;
}

.album-card.active,
.album-card:hover{
  opacity:1;
}

.album-card img,
.album-cover.all{
  width:100%;
  aspect-ratio:1/1;
  max-width:300px;
  margin:auto;
  border-radius:12px;
  object-fit:cover;
  background:#1a1a1a;
}

.album-cover.all{
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:18px;
}

.album-title{
  margin-top:8px;
  font-size:13px;
  color:#ddd;
}
  

</style>
</head>

<body>

<header>
  <div class="nav">
    <img src="logo.png" alt="PODТЕКСТ">
  </div>
</header>

<div class="hero"></div>
<section id="about">
  <h2>О группе</h2>

  <div class="about">
    <div class="about-text" id="aboutText">
      PODТЕКСТ — музыкальный проект с широким жанровым диапазоном и акцентом на смысл.

      Группа работает на стыке лирической поп-музыки, рока, шансона, рэпа и других,
      объединяя разные стили единым авторским подходом. В основе каждого трека —
      текст с глубиной, вторым планом и подтекстом, который раскрывается при внимательном
      прослушивании.

      Автор слов и музыки — разносторонний артист, свободно работающий с формой,
      настроением и жанром. Лирика варьируется от личных историй до социальных
      и философских тем.

      PODТЕКСТ — это музыка, в которой между строк всегда есть больше,
      чем кажется на первый взгляд.
    </div>

   
  </div>
</section>

<section id="tracks">
  <h2>Треки и альбомы</h2>

 <div class="albums">
  <div class="album-card active" data-album="all">
    <div class="album-cover all">Прослушать все треки</div>
  </div>

  <div class="album-card" data-album="album1">
    <img src="cover/album-main.jpg" alt="Альбом 1">
    <div class="album-title">Две сестры</div>
  </div>

  <div class="album-card" data-album="album2">
    <img src="cover/album-main2.jpg" alt="Альбом 2">
    <div class="album-title">Город северных вьюг</div>
  </div>

  <div class="album-card" data-album="album3">
    <img src="cover/album-main3.jpg" alt="Альбом 3">
    <div class="album-title">Альбом 3</div>
  </div>
</div>


  <div class="tracks" id="tracksList"></div>
</section>

<footer>© PODТЕКСТ — 2026  Все права защищены</footer>

<script>
document.addEventListener('DOMContentLoaded',()=>{

  /* ===== ABOUT TOGGLE ===== */
  const about=document.querySelector('.about')
  const toggle=document.getElementById('aboutToggle')

  if(about && toggle){
    toggle.onclick=()=>{
      about.classList.toggle('expanded')
      toggle.textContent=
        about.classList.contains('expanded')
          ? 'Свернуть'
          : 'Подробнее'
    }
  }

  /* ===== TRACKS PLAYER ===== */
  let tracks=[]
  let currentWS=null

  fetch('tracks.json')
  .then(r=>r.json())
  .then(data=>{
    tracks=data
    render('all')
  })

  function render(album){
    const list=document.getElementById('tracksList')
    if(!list) return

    list.innerHTML=''

    tracks
      .filter(t=>album==='all'||t.album===album)
      .forEach(t=>{
        const el=document.createElement('div')
        el.className='track'

        el.innerHTML=`
          <div class="track-header">
            <img class="track-cover" src="${t.cover}" alt="">
            <div class="track-title">${t.title}</div>
            <div class="track-play">▶</div>
          </div>
          <div class="wave"></div>
        `

        const playBtn=el.querySelector('.track-play')
        const waveEl=el.querySelector('.wave')

        const ws=WaveSurfer.create({
          container:waveEl,
          waveColor:'#444',
          progressColor:'#fff',
          height:36,
          barWidth:2,
          normalize:true
        })

        playBtn.onclick=()=>{
          if(currentWS && currentWS!==ws){
            currentWS.pause()
            document.querySelectorAll('.track')
              .forEach(t=>t.classList.remove('active'))
            document.querySelectorAll('.track-play')
              .forEach(b=>b.textContent='▶')
          }

          el.classList.add('active')

          if(!ws.isPlaying()){
            ws.load(t.file)
            ws.play()
            playBtn.textContent='❚❚'
            currentWS=ws
          }else{
            ws.pause()
            playBtn.textContent='▶'
          }
        }

        ws.on('finish',()=>{
          playBtn.textContent='▶'
          el.classList.remove('active')
        })

        list.appendChild(el)
      })
  }

  /* ===== ALBUM FILTER ===== */
  document.querySelectorAll('.album-btn').forEach(btn=>{
    btn.onclick=()=>{
      document.querySelectorAll('.album-btn')
        .forEach(b=>b.classList.remove('active'))
      btn.classList.add('active')
      render(btn.dataset.album)
    }
  })

})
</script>


</body>
</html>

